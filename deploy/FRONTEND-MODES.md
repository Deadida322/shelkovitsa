# –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã Frontend (Nuxt.js)

## üéØ –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Shelkovitsa

### üìä –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã

| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –†–µ–∂–∏–º | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ |
|----------|-------|-------------|------------|---------|
| `/` | ISR | 30 –º–∏–Ω—É—Ç | –ß–∞—Å—Ç–æ | –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã |
| `/catalog` | ISR | 30 –º–∏–Ω—É—Ç | –ß–∞—Å—Ç–æ | –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ |
| `/catalog/**` | ISR | 1 —á–∞—Å | –°—Ä–µ–¥–Ω–µ | –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–æ–≤ |
| `/contacts` | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è | 1 –≥–æ–¥ | –†–µ–¥–∫–æ | –†–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è |
| `/deliver` | ISR | 2 —á–∞—Å–∞ | –†–µ–¥–∫–æ | –£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `/admin` | SPA | –ù–µ—Ç | –í—Å–µ–≥–¥–∞ | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–º–∏–Ω–∫–∞ |
| `/signin` | SPA | –ù–µ—Ç | –í—Å–µ–≥–¥–∞ | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| `/signup` | SPA | –ù–µ—Ç | –í—Å–µ–≥–¥–∞ | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| `/recover` | SPA | –ù–µ—Ç | –í—Å–µ–≥–¥–∞ | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ |

## üîÑ ISR (Incremental Static Regeneration)

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã
1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–¥–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
2. **–§–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ
3. **–°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å**: –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ISR

```typescript
routeRules: {
  '/': { 
    prerender: true,
    swr: 1800, // 30 –º–∏–Ω—É—Ç
    headers: { 'cache-control': 's-maxage=1800' }
  },
  '/catalog': { 
    prerender: true,
    swr: 1800, // 30 –º–∏–Ω—É—Ç
    headers: { 'cache-control': 's-maxage=1800' }
  },
  '/catalog/**': { 
    prerender: true,
    swr: 3600, // 1 —á–∞—Å
    headers: { 'cache-control': 's-maxage=3600' }
  },
  '/deliver': { 
    prerender: true,
    swr: 7200, // 2 —á–∞—Å–∞
    headers: { 'cache-control': 's-maxage=7200' }
  }
}
```

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - ISR –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - SPA –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

### –î–ª—è SEO
- ‚úÖ **–û—Ç–ª–∏—á–Ω—ã–π SEO** - —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç** - ISR –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –î–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - ISR

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### Nginx –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```nginx
# –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}

# HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Nuxt.js)
location / {
    proxy_pass http://nuxt_backend;
    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Nuxt.js
}
```

### Nuxt.js –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
headers: { 
  'cache-control': 's-maxage=1800' // 30 –º–∏–Ω—É—Ç
}

// SWR –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
swr: 1800 // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
```

## üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/`)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 30 –º–∏–Ω—É—Ç
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- **–ü—Ä–∏—á–∏–Ω–∞**: –ß–∞—Å—Ç—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö

### –ö–∞—Ç–∞–ª–æ–≥ (`/catalog`)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 30 –º–∏–Ω—É—Ç
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω
- **–ü—Ä–∏—á–∏–Ω–∞**: –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∞

### –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–æ–≤ (`/catalog/**`)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 1 —á–∞—Å
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–æ–≤–∞—Ä–∞—Ö
- **–ü—Ä–∏—á–∏–Ω–∞**: –°—Ä–µ–¥–Ω—è—è —á–∞—Å—Ç–æ—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î–æ—Å—Ç–∞–≤–∫–∞ (`/deliver`)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 2 —á–∞—Å–∞
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏
- **–ü—Ä–∏—á–∏–Ω–∞**: –†–µ–¥–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–æ–Ω—Ç–∞–∫—Ç—ã (`/contacts`)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 1 –≥–æ–¥
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –†–µ–¥–∫–æ
- **–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
curl -I https://shelkovitsa.ru

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞
curl -I https://shelkovitsa.ru/catalog
```

### –õ–æ–≥–∏ nginx
```bash
# –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
sudo tail -f /var/log/nginx/access.log

# –õ–æ–≥–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
sudo tail -f /var/log/nginx/error.log
```

### –õ–æ–≥–∏ Nuxt.js
```bash
# –õ–æ–≥–∏ ISR –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
sudo journalctl -u shelkovitsa-frontend -f
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CDN** –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Redis** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏** –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –î–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhooks** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ISR** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —á–∞—Å—Ç–æ—Ç—É** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –î–ª—è SEO
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ** —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ ISR** –¥–ª—è –æ–±–Ω–æ–≤–ª—è–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é** –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
